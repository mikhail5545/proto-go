// github.com/mikhail5545/proto-go
// shared proto module for vitainmove project microservices
// Copyright (C) 2025  Mikhail Kulik

// This program is free software: you can redistribute it and/or modify
// it under the terms of the GNU Affero General Public License as published
// by the Free Software Foundation, either version 3 of the License, or
// (at your option) any later version.

// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU Affero General Public License for more details.

// You should have received a copy of the GNU Affero General Public License
// along with this program.  If not, see <https://www.gnu.org/licenses/>.

syntax = "proto3";

package collection.v0;

import "google/protobuf/timestamp.proto";

option go_package = "github.com/mikhail5545/proto-go/proto/product_service/collection/v0;collectionpb";

message Rule{
    string field = 1;
    string relation = 2;
    string condition = 3;
}

message RuleSet{
    repeated Rule rules = 1;
    string match_type = 2;
}

enum CollectionStatus{
    STATUS_ACTIVE = 0;
    STATUS_DRAFT = 1;
    STATUS_ARCHIVED = 2;
}

message Collection{
    string id = 1;
    google.protobuf.Timestamp created_at = 2;
    google.protobuf.Timestamp updated_at = 3;
    optional google.protobuf.Timestamp deleted_at = 4;

    // The title of the collection.
    string title = 5;
    // URL-friendly identifier for the collection.
    string slug = 6;
    // A brief summary of the collection.
    optional string short_description = 7;
    // Detailed description of the collection.
    optional string description = 8;
    // Alias for an icon to be displayed in the UI.
    string icon_alias = 9;
    // True if products are added manually, false if rule-based.
    bool is_manual = 10;
    // The current status of the collection (e.g., draft, active).
    CollectionStatus status = 11;
    // The set of rules for an automated collection.
    RuleSet rule_set = 12;
}